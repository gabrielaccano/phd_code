"text",
"text"))
str(matrix_98_24)
is_missing <- function(x) {
is.na(x) | x == "" | x == "NA" | x== "NONE" | x== "None"
}
matrix_98_24_cleaned <- matrix_98_24 |>
mutate(
new_comments = case_when(
!is_missing(butterfly_species) & is_missing(butterfly_species_cleaned) &
!is_missing(nectar_species) & is_missing(nectar_species_cleaned) ~
paste0("butterfly species = ", butterfly_species, "; nectar species = ", nectar_species),
!is_missing(butterfly_species) & is_missing(butterfly_species_cleaned) ~
paste0("butterfly species = ", butterfly_species),
!is_missing(nectar_species) & is_missing(nectar_species_cleaned) ~
paste0("nectar species = ", nectar_species),
TRUE ~ NA_character_
),
comments = case_when(
!is.na(new_comments) & (is.na(comments) | comments == "") ~ new_comments,
!is.na(new_comments) ~ paste(comments, new_comments, sep = " | "),
TRUE ~ comments
)
) |>
select(-new_comments) |>
mutate(
date = if_else(
year(date) == 2108,
make_date(year, month(date), day(date)),
date
),
week = isoweek(date)
) |>
mutate(sex = case_when(
sex %in% c("M", "F") ~ sex,
TRUE ~ NA_character_))
matrix_98_24_cleaned <- matrix_98_24 |>
mutate(
new_comments = case_when(
!is_missing(butterfly_species) & is_missing(butterfly_species_cleaned) &
!is_missing(nectar_species) & is_missing(nectar_species_cleaned) ~
paste0("butterfly species = ", butterfly_species, "; nectar species = ", nectar_species),
!is_missing(butterfly_species) & is_missing(butterfly_species_cleaned) ~
paste0("butterfly species = ", butterfly_species),
!is_missing(nectar_species) & is_missing(nectar_species_cleaned) ~
paste0("nectar species = ", nectar_species),
TRUE ~ NA_character_
),
comments = case_when(
!is.na(new_comments) & (is.na(comments) | comments == "") ~ new_comments,
!is.na(new_comments) ~ paste(comments, new_comments, sep = " | "),
TRUE ~ comments
)
) |>
select(-new_comments) |>
mutate(
date = if_else(
year(date) == 2108,
make_date(year, month(date), day(date)),
date
),
week = isoweek(date)
) |>
mutate(sex = case_when(
sex %in% c("M", "F") ~ sex,
TRUE ~ NA_character_))
matrix_98_24_thistle<- matrix_98_24 |>
mutate(butterfly_species_cleaned= ifelse(year>= 1998 & year<=2004, "ARID", butterfly_species_cleaned)) |>
mutate(nectar_species_cleaned = case_when(
year >= 1998 & year <= 2003 & julian> 220 & nectar_species_cleaned == "CIPU4" ~ "CIDI",
TRUE ~ nectar_species_cleaned))|>
mutate(comments = case_when(
year >= 1998 & year <= 2003 & julian > 220 & nectar_species_cleaned == "CIDI" ~
"Changed from CIPU4 to CIDI on 03/07/25 by GCC with approval from FIG",
TRUE ~ ifelse(is.na(comments), "", comments)  # Ensure comment is not NA
))
matrix_98_24_thistle<- matrix_98_24 |>
mutate(butterfly_species_cleaned= ifelse(year>= 1998 & year<=2004, "ARID", butterfly_species_cleaned)) |>
mutate(nectar_species_cleaned = case_when(
year >= 1998 & year <= 2003 & julian> 220 & nectar_species_cleaned == "CIPU4" ~ "CIDI",
TRUE ~ nectar_species_cleaned))|>
mutate(comments = case_when(
year >= 1998 & year <= 2003 & julian > 220 & nectar_species_cleaned == "CIDI" ~
"Changed from CIPU4 to CIDI on 03/07/25 by GCC with approval from FIG",
TRUE ~ ifelse(is.na(comments), "", comments)  # Ensure comment is not NA
))
matrix_98_24_remove<- matrix_98_24 |>
#select(-nectar_species, -butterfly_species) |>
select(year, month, date, week, julian, observer, site, start, end, duration,s_percent_sun, e_percent_sun, s_wind, e_wind, s_temp,
e_temp, total, individual, section, sex, behavior, nectar_species_cleaned, butterfly_species_cleaned, comments)
View(matrix_98_24_thistle)
matrix_98_24_remove<- matrix_98_24 |>
#select(-nectar_species, -butterfly_species) |>
select(year, month, date, week, julian, observer, segment_orig, segment, site_orig, field, route, start, end, duration,s_percent_sun, e_percent_sun, s_wind, e_wind, s_temp,
e_temp, total, individual, section, sex, behavior, nectar_species_cleaned, butterfly_species_cleaned, comments)
matrix_98_24_remove<- matrix_98_24 |>
#select(-nectar_species, -butterfly_species) |>
select(year, month, date, week, julian, observer, segment_orig, segment, site_orig, field, route, start, end, duration,s_percent_sun, e_percent_sun, s_wind, e_wind, s_temp,
e_temp, total, individual, section, sex, behavior, nectar_species_cleaned, butterfly_species_cleaned, comments)
matrix_98_24_remove<- matrix_98_24 |>
#select(-nectar_species, -butterfly_species) |>
select(year, month, date, week, julian, observer, segment_orig, segment, site_orig, field, route, start, end, duration,s_percent_sun, e_percent_sun, s_wind, e_wind, s_temp,
e_temp, total, individual, sex, behavior, nectar_species_cleaned, butterfly_species_cleaned, comments)
View(matrix_98_24_remove)
matrix_98_24_remove<- matrix_98_24 |>
#select(-nectar_species, -butterfly_species) |>
select(year, month, date, week, julian, observer, segment_orig, segment, site_orig, field, route, start, end, duration,s_percent_sun, e_percent_sun, s_wind, e_wind, s_temp,
e_temp, total, individual, sex, behavior, butterfly_species, nectar_species, nectar_species_cleaned, butterfly_species_cleaned, comments)
View(matrix_98_24)
#MAKE ULTRA MEGA SUPER DUPER DATASET!
matrix_98_24<- rbind(matrix_98_15_standard,
to_combine_sex)
to_combine_sex<- to_combine |>
mutate( sex = case_when(
sex == "FEMALE"~ "F",
sex == "MALE" ~ "M",
TRUE ~ sex))
#MAKE ULTRA MEGA SUPER DUPER DATASET!
matrix_98_24<- rbind(matrix_98_15_standard,
to_combine_sex)
matrix_98_24_thistle<- matrix_98_24 |>
mutate(butterfly_species_cleaned= ifelse(year>= 1998 & year<=2004, "ARID", butterfly_species_cleaned)) |>
mutate(nectar_species_cleaned = case_when(
year >= 1998 & year <= 2003 & julian> 220 & nectar_species_cleaned == "CIPU4" ~ "CIDI",
TRUE ~ nectar_species_cleaned))|>
mutate(comments = case_when(
year >= 1998 & year <= 2003 & julian > 220 & nectar_species_cleaned == "CIDI" ~
"Changed from CIPU4 to CIDI on 03/07/25 by GCC with approval from FIG",
TRUE ~ ifelse(is.na(comments), "", comments)  # Ensure comment is not NA
))
matrix_98_24_remove<- matrix_98_24 |>
#select(-nectar_species, -butterfly_species) |>
select(year, month, date, week, julian, observer, segment_orig, segment, site_orig, field, route, start, end, duration,s_percent_sun, e_percent_sun, s_wind, e_wind, s_temp,
e_temp, total, individual, sex, behavior, butterfly_species, nectar_species, nectar_species_cleaned, butterfly_species_cleaned, comments)
#MAKE ULTRA MEGA SUPER DUPER DATASET!
matrix_98_24<- rbind(matrix_98_15_standard,
to_combine_sex)
View(matrix_98_24)
matrix_98_24_cleaned <- matrix_98_24 |>
mutate(
new_comments = case_when(
!is_missing(butterfly_species) & is_missing(butterfly_species_cleaned) &
!is_missing(nectar_species) & is_missing(nectar_species_cleaned) ~
paste0("butterfly species = ", butterfly_species, "; nectar species = ", nectar_species),
!is_missing(butterfly_species) & is_missing(butterfly_species_cleaned) ~
paste0("butterfly species = ", butterfly_species),
!is_missing(nectar_species) & is_missing(nectar_species_cleaned) ~
paste0("nectar species = ", nectar_species),
TRUE ~ NA_character_
),
comments = case_when(
!is.na(new_comments) & (is.na(comments) | comments == "") ~ new_comments,
!is.na(new_comments) ~ paste(comments, new_comments, sep = " | "),
TRUE ~ comments
)
) |>
select(-new_comments) |>
mutate(
date = if_else(
year(date) == 2108,
make_date(year, month(date), day(date)),
date
),
week = isoweek(date)
) |>
mutate(sex = case_when(
sex %in% c("M", "F") ~ sex,
TRUE ~ NA_character_))
view(matrix_98_24_cleaned |>
group_by(date, observer, year) |>
filter(comments!= "NA") |>
distinct(comments))
view(matrix_98_24 |> filter(nectar_species_cleaned=="CIPU4"))
view(matrix_98_24 |> filter(nectar_species_cleaned=="CIPU4" |> filter(comments != "NA")))
view(matrix_98_24 |> filter(nectar_species_cleaned=="CIPU4") |> filter(comments != "NA")
view(matrix_98_24 |> filter(nectar_species_cleaned=="CIPU4") |> filter(comments != "NA"))
view(matrix_98_24 |> filter(nectar_species_cleaned=="CIPU4") |> filter(comments != "NA"))
matrix_98_24_thistle<- matrix_98_24 |>
mutate(butterfly_species_cleaned= ifelse(year>= 1998 & year<=2004, "ARID", butterfly_species_cleaned)) |>
mutate(nectar_species_cleaned = case_when(
year >= 1998 & year <= 2003 & julian> 220 & nectar_species_cleaned == "CIPU4" ~ "CIDI",
TRUE ~ nectar_species_cleaned))|>
mutate(comments = case_when(
year >= 1998 & year <= 2003 & julian > 220 & nectar_species_cleaned == "CIDI" ~
"Changed from CIPU4 to CIDI on 03/07/25 by GCC with approval from FIG",
TRUE ~ ifelse(is.na(comments), "", comments)  # Ensure comment is not NA
))
matrix_98_24_thistle
View(matrix_98_24_thistle)
view(matrix_98_24_thistle |> filter(butterfly_species=="NONE"))
#Import -15 data and plant/butterfly code
original_matrix<- read_excel("updated_matrix_gcc_03_11_25.xlsx", sheet = "mutated_matrix")
updated_b<- read_excel("updated_matrix_gcc_03_11_25.xlsx", sheet= "butterfly_codes")
updated_p<- read_excel("updated_matrix_gcc_03_11_25.xlsx", sheet= "plant_codes")
#Combined matrix
merged_matrix_16_24<- rbind(matrix_16_update,
matrix_17_update,
matrix_18_update,
matrix_19_update,
matrix_20_update,
matrix_21_update,
matrix_22_update,
matrix_23_update,
matrix_24_update)
#Fixing minor dataset-wide problems
merged_matrix_16_24_clean <- merged_matrix_16_24 |>
mutate(year= as.numeric(year)) |>
mutate(year = case_when(
year == 2108 ~ 2018,
year == 1900~ 2019,
TRUE ~ year)) |>
filter(!if_all(everything(), is.na)) |>
filter(!(is.na(nectar_species) & is.na(butterfly_species))) |>
mutate(start = format(start, "%H:%M"),
end = format(end, "%H:%M"),
duration = format(duration, "%H:%M"),
duration = as.numeric(substr(duration, 1, 2)) * 60 + as.numeric(substr(duration, 4, 5)),
date= as.Date(date, format= "%Y%m%d")) |>
mutate(nectar_species_cleaned= nectar_species,
butterfly_species_cleaned= butterfly_species)
View(merged_matrix_16_24_clean)
#Export as compiled
write.xlsx(merged_matrix_16_24_clean,"C:/Users/GCano/Documents/GitHub/phd_code/butterfly_data_16_24/combined_16_24_04_28_25.xlsx",
rowNames = FALSE)
to_combine<- read_xlsx("butterfly_data_16_24/combined_16_24_04_28_25.xlsx",
col_types= c("numeric",
"numeric",
"date",
"numeric",
"numeric",
"text",
"text",
"text",
"text",
"text",
"numeric",
"numeric",
"numeric",
"numeric",
"numeric",
"numeric",
"numeric",
"text",
"text",
"text",
"numeric",
"text",
"text",
"text",
"text",
"text"))
seeing_diff_butt<-anti_join(to_combine, updated_b, by= "butterfly_species")
diff_plant<- anti_join(to_combine, updated_p, by= "nectar_species")
view(seeing_diff_butt |> distinct(butterfly_species))
view(diff_plant |>
group_by(observer, date, nectar_species, site) |>
distinct(nectar_species) |>
filter(nectar_species!= "NA"))
# Create a named vector for plant_name -> plant_code mapping
plant_code_map <- setNames(updated_p$plant_code, updated_p$nectar_species)
# Replace nectar_species in original_matrix with corresponding plant_code
to_combine$nectar_species_cleaned <- sapply(to_combine$nectar_species_cleaned,
function(x) plant_code_map[x])
# Create a named vector for plant_name -> plant_code mapping
butterfly_code_map <- setNames(updated_b$butterfly_code, updated_b$butterfly_species)
# Replace nectar_species in original_matrix with corresponding plant_code
to_combine$butterfly_species_cleaned <- sapply(to_combine$butterfly_species_cleaned,
function(x) butterfly_code_map[x])
to_combine_sex<- to_combine |>
mutate( sex = case_when(
sex == "FEMALE"~ "F",
sex == "MALE" ~ "M",
TRUE ~ sex))
#MAKE ULTRA MEGA SUPER DUPER DATASET!
matrix_98_24<- rbind(matrix_98_15_standard,
to_combine_sex)
matrix_98_24
View(matrix_98_24)
view(matrix_98_24 |> filter(butterfly_species_cleaned=="NONE"))
view(matrix_98_24 |> filter(butterfly_species=="NONE"))
#MAKE ULTRA MEGA SUPER DUPER DATASET!
matrix_98_24<- rbind(matrix_98_15_standard,
to_combine_sex)
view(matrix_98_24 |> filter(butterfly_species_cleaned=="NONE"))
is_missing <- function(x) {
is.na(x) | x == "" | x == "NA" | x== "NONE" | x== "None"
}
matrix_98_24_cleaned <- matrix_98_24 |>
mutate(
new_comments = case_when(
!is_missing(butterfly_species) & is_missing(butterfly_species_cleaned) &
!is_missing(nectar_species) & is_missing(nectar_species_cleaned) ~
paste0("butterfly species = ", butterfly_species, "; nectar species = ", nectar_species),
!is_missing(butterfly_species) & is_missing(butterfly_species_cleaned) ~
paste0("butterfly species = ", butterfly_species),
!is_missing(nectar_species) & is_missing(nectar_species_cleaned) ~
paste0("nectar species = ", nectar_species),
TRUE ~ NA_character_
),
comments = case_when(
!is.na(new_comments) & (is.na(comments) | comments == "") ~ new_comments,
!is.na(new_comments) ~ paste(comments, new_comments, sep = " | "),
TRUE ~ comments
)
) |>
select(-new_comments) |>
mutate(
date = if_else(
year(date) == 2108,
make_date(year, month(date), day(date)),
date
),
week = isoweek(date)
) |>
mutate(sex = case_when(
sex %in% c("M", "F") ~ sex,
TRUE ~ NA_character_))
matrix_98_24_thistle<- matrix_98_24_cleaned |>
mutate(butterfly_species_cleaned= ifelse(year>= 1998 & year<=2004, "ARID", butterfly_species_cleaned)) |>
mutate(nectar_species_cleaned = case_when(
year >= 1998 & year <= 2003 & julian> 220 & nectar_species_cleaned == "CIPU4" ~ "CIDI",
TRUE ~ nectar_species_cleaned))|>
mutate(comments = case_when(
year >= 1998 & year <= 2003 & julian > 220 & nectar_species_cleaned == "CIDI" ~
"Changed from CIPU4 to CIDI on 03/07/25 by GCC with approval from FIG",
TRUE ~ ifelse(is.na(comments), "", comments)  # Ensure comment is not NA
))
View(matrix_98_24_thistle)
write.xlsx(matrix_98_24_thistle,"C:/Users/GCano/Documents/GitHub/phd_code/butterfly_data_16_24/gcc_full_matrix_09_02_25.xlsx",
rowNames = FALSE)
write.xlsx(matrix_98_24_thistle,"C:/Users/GCano/Documents/GitHub/phd_code/butterfly_data_16_24/gcc_complete_pollard_09_02_25.xlsx",
rowNames = FALSE)
library(vegan)
library(tidyverse)
library(rlang)
library(readxl)
library(ggridges)
library(writexl)
setwd("C:/Users/tut43799/OneDrive - Temple University/Documents/GitHub/phd_code")
matrix_98_24<- read_xlsx("butterfly_data_16_24/complete pollard data CRT 7May2025.xlsx")
facet_wrap(nectar_species_cleaned)
View(matrix_98_24)
geom_density()
ggplot(matrix_98_24, aes(x=julian, y= as.factor(year), color= nectar_species_cleaned)+
ggplot(matrix_98_24, aes(x=julian, y= as.factor(year), color= nectar_species_cleaned))+
geom_density()
ggplot(matrix_98_24, aes(x=julian, y= as.factor(year), color= nectar_species_cleaned))+
library(vegan)
library(tidyverse)
library(rlang)
library(readxl)
library(ggridges)
library(writexl)
ggplot(matrix_98_24, aes(x=julian, y= as.factor(year), color= nectar_species_cleaned))+
geom_density()
filtered_na_matrix<-matrix_98_24 |>
filter(nectar_species_cleaned != "NA")
ggplot(filtered_na_matrix, aes(x=julian, y= as.factor(year), color= nectar_species_cleaned))+
geom_density()
ungroup()
filtered_na_matrix<-matrix_98_24 |>
filter(nectar_species_cleaned != "NA") |>
group_by(nectar_species_cleaned)|>
filter(n()>=20) |>
ungroup()
ggplot(filtered_na_matrix, aes(x=julian, y color= nectar_species_cleaned))+
ggplot(filtered_na_matrix, aes(x=julian, color= nectar_species_cleaned))+
geom_density()
ggplot(filtered_na_matrix, aes(x=julian, y= nectar_species_cleaned))+
geom_density()
ggplot(filtered_na_matrix, aes(x=julian, y= nectar_species_cleaned, color= nectar_species_cleaned))+
geom_density_ridges()
ggplot(filtered_na_matrix, aes(x=julian, y= nectar_species_cleaned, fill= nectar_species_cleaned))+
geom_density_ridges()
filtered_na_matrix<-matrix_98_24 |>
filter(nectar_species_cleaned != "NA", behavior==3) |>
group_by(nectar_species_cleaned)|>
filter(n()>=20) |>
ungroup()
ggplot(filtered_na_matrix, aes(x=julian, y= nectar_species_cleaned, fill= nectar_species_cleaned))+
geom_density_ridges()
nectar_summary <- filtered_na_matrix |>
group_by(nectar_species_cleaned) |>
summarise(
earliest_julian = min(julian, na.rm = TRUE),
latest_julian   = max(julian, na.rm = TRUE),
mean_julian     = mean(julian, na.rm = TRUE),
.groups = "drop"
)
view(nectar_summary)
rg_filtered_matrix<- filtered_na_matrix |>
filter(butterfly_species_cleaned=="ARID")
nectar_summary <- rg_filtered_matrix |>
group_by(nectar_species_cleaned) |>
summarise(
earliest_julian = min(julian, na.rm = TRUE),
latest_julian   = max(julian, na.rm = TRUE),
mean_julian     = mean(julian, na.rm = TRUE),
.groups = "drop"
)
nectar_summary <- filtered_na_matrix |>
group_by(nectar_species_cleaned) |>
summarise(
earliest_julian = min(julian, na.rm = TRUE),
latest_julian   = max(julian, na.rm = TRUE),
mean_julian     = mean(julian, na.rm = TRUE),
.groups = "drop"
)
rg_nectar_summary <- rg_filtered_matrix |>
group_by(nectar_species_cleaned) |>
summarise(
earliest_julian = min(julian, na.rm = TRUE),
latest_julian   = max(julian, na.rm = TRUE),
mean_julian     = mean(julian, na.rm = TRUE),
.groups = "drop"
)
view(rg_nectar_summary)
view(filtered_na_matrix |> )
view(filtered_na_matrix |>
filter(nectar_species_cleaned=="CIDI",
julian<170))
matrix_98_24_thistle <- matrix_98_24_cleaned |>
mutate(butterfly_species_cleaned = ifelse(year >= 1998 & year <= 2004, "ARID", butterfly_species_cleaned)) |>
mutate(nectar_species_cleaned = case_when(
year >= 1998 & year <= 2003 & julian > 220 & nectar_species_cleaned == "CIPU4" ~ "CIDI",
year == 2013 & julian < 160 & nectar_species_cleaned == "CIDI" ~ "CIPU4",   # new rule
TRUE ~ nectar_species_cleaned
)) |>
mutate(comments = case_when(
year >= 1998 & year <= 2003 & julian > 220 & nectar_species_cleaned == "CIDI" ~
"Changed from CIPU4 to CIDI on 03/07/25 by GCC with approval from FIG",
year == 2013 & julian < 160 & nectar_species_cleaned == "CIPU4" ~
"Changed from CIDI to CIPU4 on 09/02/25 by GCC",   # new comment
TRUE ~ ifelse(is.na(comments), "", comments)  # keep existing comments non-NA
))
write.xlsx(matrix_98_24_thistle,"C:/Users/GCano/Documents/GitHub/phd_code/butterfly_data_16_24/gcc_complete_pollard_09_02_25.xlsx",
rowNames = FALSE)
write.xlsx(matrix_98_24_thistle,"C:/Users/GCano/Documents/GitHub/phd_code/butterfly_data_16_24/gcc_complete_pollard_09_02_25.xlsx",
rowNames = FALSE)
matrix_98_24<- read_xlsx("butterfly_data_16_24/gcc_complete_pollard_09_02_25.xlsx")
filtered_na_matrix<-matrix_98_24 |>
filter(nectar_species_cleaned != "NA", behavior==3) |>
group_by(nectar_species_cleaned)|>
filter(n()>=20) |>
ungroup()
nectar_summary <- filtered_na_matrix |>
group_by(nectar_species_cleaned) |>
summarise(
earliest_julian = min(julian, na.rm = TRUE),
latest_julian   = max(julian, na.rm = TRUE),
mean_julian     = mean(julian, na.rm = TRUE),
.groups = "drop"
)
view(nectar_summary)
rg_filtered_matrix<- filtered_na_matrix |>
filter(butterfly_species_cleaned=="ARID")
rg_nectar_summary <- rg_filtered_matrix |>
group_by(nectar_species_cleaned) |>
summarise(
earliest_julian = min(julian, na.rm = TRUE),
latest_julian   = max(julian, na.rm = TRUE),
mean_julian     = mean(julian, na.rm = TRUE),
.groups = "drop"
)
view(rg_nectar_summary)
filter_2010<-filtered_na_matrix |>
filter(year>=2010)
nectar_summary_2010 <- filtered_na_matrix |>
group_by(nectar_species_cleaned) |>
summarise(
earliest_julian = min(julian, na.rm = TRUE),
latest_julian   = max(julian, na.rm = TRUE),
mean_julian     = mean(julian, na.rm = TRUE),
.groups = "drop"
)
view(nectar_summary_2010)
regal_plants<-filtered_na_matrix |>
filter(nectar_species_cleaned== c("APOCY", "ASSY", "ASTU", "CENTA", "MOFI2", "CIPU4", "CIDI"))
regal_plants<-filtered_na_matrix |>
filter(nectar_species_cleaned= c("APOCY", "ASSY", "ASTU", "CENTA", "MOFI2", "CIPU4", "CIDI"))
regal_plants<-filtered_na_matrix |>
filter(nectar_species_cleaned %in% c("APOCY", "ASSY", "ASTU", "CENTA", "MOFI2", "CIPU4", "CIDI"))
rg_regal_plants<-regal_plants |>
filter(butterfly_species_cleaned=="ARID")
all_focal_plants<- ggplot(regal_plants, aes(x=julian, y= nectar_species_cleaned, fill= nectar_species_cleaned))+
geom_density_ridges()
rg_focal_plants<- ggplot(rg_regal_plants, aes(x=julian, y= nectar_species_cleaned, fill= nectar_species_cleaned))+
geom_density_ridges()
all_focal_plants+rg_focal_plants
ggarrange(all_focal_plants, rg_focal_plants)
library(ggpubr)
ggarrange(all_focal_plants, rg_focal_plants)
ggarrange(all_focal_plants, rg_focal_plants,
ncol=1, nrow=2)
all_focal_plants<- ggplot(regal_plants, aes(x=julian, y= nectar_species_cleaned, fill= nectar_species_cleaned))+
geom_density_ridges()+
labs(title= "Plant timing across community")
rg_focal_plants<- ggplot(rg_regal_plants, aes(x=julian, y= nectar_species_cleaned, fill= nectar_species_cleaned))+
geom_density_ridges()+
labs(title= "Plant timing of regals")
ggarrange(all_focal_plants, rg_focal_plants,
ncol=1, nrow=2)
all_focal_plants<- ggplot(regal_plants, aes(x=julian, y= nectar_species_cleaned, fill= nectar_species_cleaned))+
geom_density_ridges()+
labs(title= "Plant timing across community")+
xlim(140, 300)
rg_focal_plants<- ggplot(rg_regal_plants, aes(x=julian, y= nectar_species_cleaned, fill= nectar_species_cleaned))+
geom_density_ridges()+
labs(title= "Plant timing of regals")+
xlim(140, 300)
ggarrange(all_focal_plants, rg_focal_plants,
ncol=1, nrow=2)
